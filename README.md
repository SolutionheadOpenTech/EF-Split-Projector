[![Build status](https://ci.appveyor.com/api/projects/status/ax78f01y66q39jla)](https://ci.appveyor.com/project/vinneyk/ef-split-projector)
EF-Split-Projector
==================

EF Split Projector is an optimization utility for improving the performance of complex object graph selection with Entity Framework. The promise of an ORM such as Entity Framework is the abstraction of the database. LINQ and Entity Framework has been a great addition to the C# developer's toolkit. However, we found that the more we leveraged EF as an abstraction of the database, the less performant it became. Working with complex projections spanning multiple entities and _not_ prefetching data and essentially optimizing the SQL query operation via code comes with a price: incredibly complex generated T-SQL statements rich with `JOIN`, `APPLY`, and `UNION` operations that kill performance.

EF Split Projector puts an end to the compromise between the level of abstraction of the database and performance of the query. With EF Split Projector, you can project your data however you see fit without the overhead of prefetching data or the consequence of poor performance. EF Split Project accomplishes this feat by spliting projection expressions into multiple SQL statements, which are executed in a single transaction, and then merging the results back into one dataset. The split queries are simpler and more performant resulting in potentially huge performance improvements.

To give an idea of the performance improvements we've seen, using plain EF we were ending up with some queries around 5,000 lines of T-SQL. These queries were takeing upwards 2 minutes to return 100 records in an AJAX call website! These same queries now execute in <1 second using EF Split Projector. (Specific examples and benchmarks to come.)
